<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="From ashes to the empire">
    <meta name="keywords" content="Dawnk , Dawn-K , dawnk , 黄玄的博客, Dawn-K's Blog, 博客, 个人网站, ACM , 算法竞赛">
    <meta name="theme-color" content="#000000">

    <!-- Open Graph -->
    <meta property="og:title"
        content="「Kotlin」 Kotlin基础语法 - Dawn-K's Blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="Kotlin基础语法
[toc]
">
    
    <meta property="article:published_time" content=" 2020-06-27T00:00:00Z">
    
    
    
    <meta property="article:tag" content="Kotlin">
    
    
    <meta property="og:image" content="https://dawnk.gitlab.io/img/daze.jpg">
    <meta property="og:url" content="https://dawnk.gitlab.io/kotlin/2020/06/27/Kotlin%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">
    <meta property="og:site_name" content="Dawn-K's Blog">

    <title>「Kotlin」 Kotlin基础语法 - Dawn-K's Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://dawnk.gitlab.io/kotlin/2020/06/27/Kotlin%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href=" /css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/hux-blog.min.css">

    <!-- <link rel="stylesheet" href="http://yandex.st/highlightjs/7.1/styles/default.min.css">
    <script src="http://yandex.st/highlightjs/7.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script> -->
    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
        type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
        type="text/javascript"></script>

    <!-- ga & ba script hoook -->
    <script></script>
</head>

<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Dawn-K's Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Archive</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="search-icon">
                            <a href="javascript:void(0)">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>
    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>

    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/home-bg.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg.jpg');
        background: ;
    }

    
</style>

<header class="intro-header" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=Kotlin" title="Kotlin">Kotlin</a>
                        
                    </div>
                    <h1>「Kotlin」 Kotlin基础语法</h1>
                    
                    <h2 class="subheading"></h2>
                    <span class="meta">Posted by Dawn-K's Blog on June 27, 2020</span>
                </div>
            </div>
        </div>
    </div>
</header>






<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<h1 id="kotlin基础语法">Kotlin基础语法</h1>
<p>[toc]</p>

<h2 id="文件结构">文件结构</h2>

<p>Kotlin 的源代码结尾是 .kt</p>

<p>Kotlin 不需要将函数都放到类中, 即有全局变量和暴露在外面的函数, 类似c++, 也是依靠main函数来确定入口.</p>

<p>Kotlin 的语句结尾不需要加分号</p>

<h2 id="注释">注释</h2>

<p>kotlin 注释和java cpp基本没有区别</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c1">// 这是一个单行注释</span>
<span class="cm">/* 这是一个多行的
   块注释。 */</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="变量">变量</h2>

<p>kotlin 拥有自动类型推导系统.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c1">//  值</span>
<span class="c1">//  val &lt;标识符&gt; : &lt;类型&gt; = &lt;初始化值&gt;</span>
<span class="kd">val</span> <span class="py">a</span><span class="p">:</span> <span class="nc">Int</span> <span class="p">=</span> <span class="mi">1</span>
<span class="kd">val</span> <span class="py">b</span> <span class="p">=</span> <span class="mi">1</span>       <span class="c1">// 系统自动推断变量类型为Int</span>
<span class="kd">val</span> <span class="py">c</span><span class="p">:</span> <span class="nc">Int</span>      <span class="c1">// 如果不在声明时初始化则必须提供变量类型</span>
<span class="n">c</span> <span class="p">=</span> <span class="mi">1</span>           <span class="c1">// 明确赋值</span>

<span class="c1">// 变量</span>
<span class="c1">// var &lt;标识符&gt; : &lt;类型&gt; = &lt;初始化值&gt;</span>
<span class="kd">var</span> <span class="py">x</span> <span class="p">=</span> <span class="mi">5</span>        <span class="c1">// 系统自动推断变量类型为Int</span>
<span class="n">x</span> <span class="p">+=</span> <span class="mi">1</span>           <span class="c1">// 变量可修改</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="循环">循环</h2>

<h3 id="数值循环">数值循环</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="c1">// in 这个操作符除了在for中可以用, 还可以在if中用</span>

<span class="c1">// 注意到这里的i也不需要声明类型?</span>

<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">4</span><span class="p">)</span> <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="c1">// 输出“1234”</span>

<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">4</span><span class="o">..</span><span class="mi">1</span><span class="p">)</span> <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="c1">// 什么都不输出,必须将...换成downTo</span>

<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 等同于 1 &lt;= i &amp;&amp; i &lt;= 10</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 使用 step 指定步长</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">4</span> <span class="n">step</span> <span class="mi">2</span><span class="p">)</span> <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="c1">// 输出“13”</span>

<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">4</span> <span class="n">downTo</span> <span class="mi">1</span> <span class="n">step</span> <span class="mi">2</span><span class="p">)</span> <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="c1">// 输出“42”</span>

<span class="c1">// 使用 until 函数构造左闭右开区间</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">1</span> <span class="n">until</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>   <span class="c1">// i in [1, 10) 排除了 10</span>
     <span class="nf">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="repeat">repeat</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c1">// 取代 for(int i=0;i&lt;5;i++)</span>
<span class="nf">repeat</span><span class="p">(</span><span class="mi">5</span><span class="p">){</span> <span class="n">i</span> <span class="p">-&gt;</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"循环运行第${i+1}次。"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="遍历容器">遍历容器</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="p">(</span><span class="n">item</span> <span class="k">in</span> <span class="n">collection</span><span class="p">)</span> <span class="nf">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="c1">// 如果你想要通过索引遍历一个数组或者一个 list，你可以这么做：</span>
<span class="c1">// indices 是 index 的复数形式</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="n">array</span><span class="p">.</span><span class="n">indices</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="p">}</span>

<span class="c1">// 或者你可以用库函数 withIndex：</span>
<span class="k">for</span> <span class="p">((</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">in</span> <span class="n">array</span><span class="p">.</span><span class="nf">withIndex</span><span class="p">())</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"the element at $index is $value"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="while">While</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">while</span><span class="p">(</span> <span class="err">布尔表达式</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//循环内容</span>
<span class="p">}</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="c1">//代码语句</span>
<span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="err">布尔表达式</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="返回和跳转">返回和跳转</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c1">// 在循环中 Kotlin 支持传统的 break 和 continue 操作符.</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="p">==</span><span class="mi">3</span><span class="p">)</span> <span class="k">continue</span>  <span class="c1">// i 为 3 时跳过当前循环，继续下一次循环</span>
        <span class="nf">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="p">&gt;</span><span class="mi">5</span><span class="p">)</span> <span class="k">break</span>   <span class="c1">// i 为 6 时 跳出循环</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>以下内容等用到的时候再深入学习</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class="rouge-code"><pre><span class="c1">// Break 和 Continue 标签</span>
<span class="c1">// 在 Kotlin 中任何表达式都可以用标签(label)来标记.</span>
<span class="c1">// 标签的格式为标识符后跟 @ 符号, 例如:abc@、fooBar@都是有效的标签.</span>
<span class="c1">// 要为一个表达式加标签, 我们只要在其前加标签即可.</span>

<span class="c1">// 现在, 我们可以用标签限制 break 或者continue:</span>
<span class="nd">loop@</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="err">……</span><span class="p">)</span> <span class="k">break</span><span class="nd">@loop</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// 标签限制的 break 跳转到刚好位于该标签指定的循环后面的执行点. continue 继续标签指定的循环的下一次迭代.</span>

<span class="c1">// 标签处返回</span>
<span class="c1">// Kotlin 有函数字面量、局部函数和对象表达式. 因此 Kotlin 的函数可以被嵌套.</span>
<span class="c1">// 标签处返回最重要的一个用途就是从 lambda 表达式中返回.</span>

<span class="c1">// 这个 return 表达式从最直接包围它的函数即 foo 中返回.</span>
<span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ints</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="p">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 如果我们需要从 lambda 表达式中返回, 我们必须给它加标签并用以限制 return.</span>
<span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ints</span><span class="p">.</span><span class="n">forEach</span> <span class="nd">lit@</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="p">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="nd">@lit</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 通常情况下使用隐式标签更方便. 该标签与接受该 lambda 的函数同名.</span>
<span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ints</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="p">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="nd">@forEach</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 或者, 我们用一个匿名函数替代 lambda 表达式. 匿名函数内部的 return 语句将从该匿名函数自身返回</span>
<span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ints</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="p">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="p">})</span>
<span class="p">}</span>

<span class="c1">//当要返一个回值的时候, 解析器优先选用标签限制的 return, 即</span>
<span class="k">return</span><span class="nd">@a</span> <span class="mi">1</span>
<span class="err">意为</span><span class="s">"从标签 @a 返回 1"</span><span class="p">,</span> <span class="err">而不是</span><span class="s">"返回一个标签标注的表达式 (@a 1)"</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="数组">数组</h2>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre>
<span class="c1">// [1,2,3]</span>
<span class="kd">val</span> <span class="py">a</span> <span class="p">=</span> <span class="nf">arrayOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1">// 工厂函数,第一个参数是列表长度,第二个参数是生成方法</span>
<span class="c1">// [0,2,4]</span>
<span class="kd">val</span> <span class="py">b</span> <span class="p">=</span> <span class="nc">Array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">{</span> <span class="n">i</span> <span class="p">-&gt;</span> <span class="p">(</span><span class="n">i</span> <span class="p">*</span> <span class="mi">2</span><span class="p">)</span> <span class="p">})</span>

<span class="c1">//读取数组内容</span>
<span class="nf">println</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>    <span class="c1">// 输出结果：1</span>
<span class="nf">println</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>    <span class="c1">// 输出结果：2</span>

<span class="c1">// 除了类Array，还有ByteArray, ShortArray, IntArray,用法相同</span>
<span class="kd">val</span> <span class="py">x</span><span class="p">:</span> <span class="nc">IntArray</span> <span class="p">=</span> <span class="nf">intArrayOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="字符串">字符串</h2>

<h3 id="普通字符串">普通字符串</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="c1">// 和 Java 一样，String 是不可变的</span>
<span class="c1">// 方括号 [] 语法可以很方便的获取字符串中的某个字符，也可以通过 for 循环来遍历：</span>
<span class="k">for</span> <span class="p">(</span><span class="n">c</span> <span class="k">in</span> <span class="n">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">text</span> <span class="p">=</span> <span class="s">"""
    多行字符串
    多行字符串
    """</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>   <span class="c1">// 输出有一些前置空格</span>
<span class="p">}</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">text</span> <span class="p">=</span> <span class="s">"""
    |多行字符串
    |菜鸟教程
    |多行字符串
    |Runoob
    """</span><span class="p">.</span><span class="nf">trimMargin</span><span class="p">()</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>    <span class="c1">// 前置空格删除了</span>
<span class="p">}</span>
<span class="c1">// 默认 | 用作边界前缀，但你可以选择其他字符并作为参数传入，比如 trimMargin("&gt;")。</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="字符串模板">字符串模板</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>
<span class="c1">// $ 表示一个变量名或者变量值</span>
<span class="c1">// $varName 表示变量值</span>
<span class="c1">// ${varName.fun()} 表示变量的方法返回值:</span>

<span class="kd">var</span> <span class="py">a</span> <span class="p">=</span> <span class="mi">1</span>
<span class="c1">// 模板中的简单名称:</span>
<span class="kd">val</span> <span class="py">s1</span> <span class="p">=</span> <span class="s">"a is $a"</span> 

<span class="n">a</span> <span class="p">=</span> <span class="mi">2</span>
<span class="c1">// 模板中的任意表达式:</span>
<span class="kd">val</span> <span class="py">s2</span> <span class="p">=</span> <span class="s">"${s1.replace("</span><span class="k">is</span><span class="s">", "</span><span class="n">was</span><span class="s">")}, but now is $a"</span>

<span class="c1">// 原生字符串和转义字符串内部都支持模板。 如果你需要在原生字符串中表示字面值 $ 字符（它不支持反斜杠转义），你可以用下列语法：</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">price</span> <span class="p">=</span> <span class="s">"""
    ${'$'}9.99
    """</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>  <span class="c1">// 求值结果为 $9.99</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="基本数据类型">基本数据类型</h2>

<p>Byte、Short、Int、Long、Float、Double</p>

<h3 id="字面量">字面量</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="c1">// 你可以使用下划线使数字常量更易读：</span>
<span class="c1">// 十进制：123</span>
<span class="c1">// 长整型以大写的 L 结尾：123L</span>

<span class="c1">// 16 进制以 0x 开头：0x0F</span>
<span class="c1">// 2 进制以 0b 开头：0b00001011</span>
<span class="c1">// 注意：8进制不支持</span>

<span class="c1">// Kotlin 同时也支持传统符号表示的浮点数值：</span>
<span class="c1">// Doubles 默认写法: 123.5, 123.5e10</span>
<span class="c1">// Floats 使用 f 或者 F 后缀：123.5f</span>

<span class="c1">// 可以使用下划线使数字常量更易读</span>
<span class="kd">val</span> <span class="py">oneMillion</span> <span class="p">=</span> <span class="mi">1_000_000</span>
<span class="kd">val</span> <span class="py">creditCardNumber</span> <span class="p">=</span> <span class="mi">1234_5678_9012_3456L</span>
<span class="kd">val</span> <span class="py">socialSecurityNumber</span> <span class="p">=</span> <span class="mi">999_99_9999L</span>
<span class="kd">val</span> <span class="py">hexBytes</span> <span class="p">=</span> <span class="mh">0xFF_EC_DE_5E</span>
<span class="kd">val</span> <span class="py">bytes</span> <span class="p">=</span> <span class="mb">0b11010010_01101001_10010100_10010010</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="比较">比较</h3>

<p>你每定义的一个变量, 其实 Kotlin 帮你封装了一个对象, 这样可以保证不会出现空指针. 数字类型也一样, 所以在比较两个数字的时候, 就有比较数据大小和比较两个对象是否相同的区别了.
三个等号 === 表示比较对象地址, 两个 == 表示比较两个值大小.</p>

<h3 id="类型转换">类型转换</h3>

<p>由于不同的表示方式, 较小类型并不是较大类型的子类型, 较小的类型不能隐式转换为较大的类型. 这意味着在不进行显式转换的情况下我们不能把 Byte 型值赋给一个 Int 变量.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="kd">val</span> <span class="py">b</span><span class="p">:</span> <span class="nc">Byte</span> <span class="p">=</span> <span class="mi">1</span> <span class="c1">// OK, 字面值是静态检测的</span>
<span class="kd">val</span> <span class="py">i</span><span class="p">:</span> <span class="nc">Int</span> <span class="p">=</span> <span class="n">b</span> <span class="c1">// 错误</span>
<span class="c1">// 我们可以代用其toInt()方法.</span>

<span class="kd">val</span> <span class="py">b</span><span class="p">:</span> <span class="nc">Byte</span> <span class="p">=</span> <span class="mi">1</span> <span class="c1">// OK, 字面值是静态检测的</span>
<span class="kd">val</span> <span class="py">i</span><span class="p">:</span> <span class="nc">Int</span> <span class="p">=</span> <span class="n">b</span><span class="p">.</span><span class="nf">toInt</span><span class="p">()</span> <span class="c1">// OK</span>
<span class="c1">// 每种数据类型都有下面的这些方法, 可以转化为其它的类型:</span>

<span class="nf">toByte</span><span class="p">():</span> <span class="nc">Byte</span>
<span class="nf">toShort</span><span class="p">():</span> <span class="nc">Short</span>
<span class="nf">toInt</span><span class="p">():</span> <span class="nc">Int</span>
<span class="nf">toLong</span><span class="p">():</span> <span class="nc">Long</span>
<span class="nf">toFloat</span><span class="p">():</span> <span class="nc">Float</span>
<span class="nf">toDouble</span><span class="p">():</span> <span class="nc">Double</span>
<span class="nf">toChar</span><span class="p">():</span> <span class="nc">Char</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>有些情况下也是可以使用自动类型转化的, 前提是可以根据上下文环境推断出正确的数据类型而且数学操作符会做相应的重载. 例如下面是正确的:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="kd">val</span> <span class="py">l</span> <span class="p">=</span> <span class="mi">1L</span> <span class="p">+</span> <span class="mi">3</span> <span class="c1">// Long + Int =&gt; Long</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>位操作符
对于Int和Long类型, 还有一系列的位操作符可以使用, 分别是:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>shl(bits) – 左移位 (Java's &lt;&lt;)
shr(bits) – 右移位 (Java's &gt;&gt;)
ushr(bits) – 无符号右移位 (Java's &gt;&gt;&gt;)
and(bits) – 与
or(bits) – 或
xor(bits) – 异或
inv() – 反向
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="字符">字符</h3>

<p>和 Java 不一样, Kotlin 中的 Char 不能直接和数字操作, Char 必需是单引号 ‘ 包含起来的. 比如普通字符 ‘0’, ‘a’.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">fun</span> <span class="nf">check</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="nc">Char</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 错误：类型不兼容</span>
        <span class="c1">// ……</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>字符字面值用单引号括起来: ‘1’. 特殊字符可以用反斜杠转义. 支持这几个转义序列:\t、 \b、\n、\r、'、"、\ 和 $. 编码其他字符要用 Unicode 转义序列语法:’\uFF00’.</p>

<p>我们可以显式把字符转换为 Int 数字:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">fun</span> <span class="nf">decimalDigitValue</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="nc">Char</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">!</span><span class="k">in</span> <span class="sc">'0'</span><span class="o">..</span><span class="sc">'9'</span><span class="p">)</span>
        <span class="k">throw</span> <span class="nc">IllegalArgumentException</span><span class="p">(</span><span class="s">"Out of range"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">c</span><span class="p">.</span><span class="nf">toInt</span><span class="p">()</span> <span class="p">-</span> <span class="sc">'0'</span><span class="p">.</span><span class="nf">toInt</span><span class="p">()</span> <span class="c1">// 显式转换为数字</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>当需要可空引用时, 像数字、字符会被装箱. 装箱操作不会保留同一性.</p>

<h3 id="布尔">布尔</h3>

<p>布尔用 Boolean 类型表示, 它有两个值:true 和 false.</p>

<p>若需要可空引用布尔会被装箱.</p>

<p>内置的布尔运算有:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>|| – 短路逻辑或
&amp;&amp; – 短路逻辑与
! - 逻辑非
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="if">if</h2>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="c1">// 也可以用上文提到的in</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">x</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="p">&gt;</span><span class="mi">0</span><span class="p">){</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"x 大于 0"</span><span class="p">)</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="p">==</span><span class="mi">0</span><span class="p">){</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"x 等于 0"</span><span class="p">)</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"x 小于 0"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="py">a</span> <span class="p">=</span> <span class="mi">1</span>
    <span class="kd">var</span> <span class="py">b</span> <span class="p">=</span> <span class="mi">2</span>
    <span class="kd">val</span> <span class="py">c</span> <span class="p">=</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">&gt;=</span><span class="n">b</span><span class="p">)</span> <span class="n">a</span> <span class="k">else</span> <span class="n">b</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"c 的值为 $c"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// x 等于 0</span>
<span class="c1">// c 的值为 2</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="when">When</h2>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="rouge-code"><pre><span class="c1">// when 类似其他语言的 switch 操作符,将它的参数和所有的分支条件顺序比较，直到某个分支满足条件</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">x</span> <span class="p">=</span> <span class="mi">0</span>
    <span class="c1">// when 既可以被当做表达式使用也可以被当做语句使用。如果它被当做表达式，符合条件的分支的值就是整个表达式的值，如果当做语句使用， 则忽略个别分支的值。</span>

    <span class="k">when</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//如果很多分支需要用相同的方式处理，则可以把多个分支条件放在一起，用逗号分隔</span>
        <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"x == 0 or x == 1"</span><span class="p">)</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"otherwise"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">when</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="mi">1</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"x == 1"</span><span class="p">)</span>
        <span class="mi">2</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"x == 2"</span><span class="p">)</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="p">{</span> <span class="c1">// 注意这个块</span>
            <span class="nf">println</span><span class="p">(</span><span class="s">"x 不是 1 ，也不是 2"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">when</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">in</span> <span class="mi">0</span><span class="o">..</span><span class="mi">10</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"x 在该区间范围内"</span><span class="p">)</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"x 不在该区间范围内"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">score</span> <span class="p">=</span> <span class="mi">60</span>
    <span class="n">grade</span> <span class="p">=</span> <span class="k">if</span> <span class="p">(</span><span class="n">score</span> <span class="k">in</span> <span class="mi">90</span><span class="o">..</span><span class="mi">100</span><span class="p">)</span> <span class="sc">'A'</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">score</span> <span class="k">in</span> <span class="mi">80</span><span class="o">..</span><span class="mi">89</span><span class="p">)</span> <span class="sc">'B'</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">score</span> <span class="k">in</span> <span class="mi">70</span><span class="o">..</span><span class="mi">79</span><span class="p">)</span> <span class="sc">'C'</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">score</span> <span class="k">in</span> <span class="mi">60</span><span class="o">..</span><span class="mi">69</span><span class="p">)</span> <span class="sc">'D'</span>
    <span class="k">else</span> <span class="sc">'F'</span>
<span class="p">}</span>
<span class="c1">// x == 0 or x == 1</span>
<span class="c1">// x 不是 1 ，也不是 2</span>
<span class="c1">// x 在该区间范围内</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">items</span> <span class="p">=</span> <span class="nf">setOf</span><span class="p">(</span><span class="s">"apple"</span><span class="p">,</span> <span class="s">"banana"</span><span class="p">,</span> <span class="s">"kiwi"</span><span class="p">)</span>
    <span class="k">when</span> <span class="p">{</span>
        <span class="s">"orange"</span> <span class="k">in</span> <span class="n">items</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"juicy"</span><span class="p">)</span>
        <span class="s">"apple"</span> <span class="k">in</span> <span class="n">items</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"apple is fine too"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// apple is fine too</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="函数">函数</h2>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="c1">// 函数定义使用关键字 fun, 参数格式为: 参数 : 类型</span>
<span class="k">fun</span> <span class="nf">sum</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>   <span class="c1">// Int 参数, 返回值 Int</span>
    <span class="k">return</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span>
<span class="p">}</span>
<span class="c1">// 参数必须写类型</span>
<span class="c1">// 表达式作为函数体, 返回类型自动推断,也就是仅仅以等号来写的可以不加返回类型</span>
<span class="k">fun</span> <span class="nf">sum</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">=</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span>
<span class="k">public</span> <span class="k">fun</span> <span class="nf">sum</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span>   <span class="c1">// public 方法则必须明确写出返回类型</span>

<span class="c1">// 如果以花括号的形式定义函数,那么除非返回类型是Unit ,否则都要指明类型,不可自动推导</span>
<span class="c1">// 无返回值的函数(类似Java中的void):</span>
<span class="k">fun</span> <span class="nf">printSum</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Unit</span> <span class="p">{</span> 
    <span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="p">+</span> <span class="n">b</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 如果是返回 Unit类型, 则可以省略(对于public方法也是这样):</span>
<span class="k">public</span> <span class="k">fun</span> <span class="nf">printSum</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span> 
    <span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="p">+</span> <span class="n">b</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="类似">类似</h2>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="rouge-code"><pre>
<span class="c1">// var &lt;propertyName&gt;[: &lt;PropertyType&gt;] [= &lt;property_initializer&gt;]</span>
<span class="c1">//     [&lt;getter&gt;]</span>
<span class="c1">//     [&lt;setter&gt;]</span>

<span class="c1">// val修饰的变量是没有set方法的, 也不允许重写set方法</span>

<span class="c1">// field (后端变量)就是用来指代原变量的值的,即lastName是对外使用的名字</span>
<span class="kd">class</span> <span class="nc">Person</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">lastName</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"zhang"</span>        
        <span class="c1">// 这里使用field而不是使用lastName, 是因为如果使用lastName会造成递归调用从而造成内存溢出, 因为使用lastName也会涉及到调用set/get的问题</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">field</span><span class="p">.</span><span class="nf">toUpperCase</span><span class="p">()</span>   <span class="c1">// 将变量赋值后转换为大写</span>
        <span class="k">set</span>

    <span class="kd">var</span> <span class="py">no</span><span class="p">:</span> <span class="nc">Int</span> <span class="p">=</span> <span class="mi">100</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">field</span>                <span class="c1">// 后端变量</span>
        <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>       <span class="c1">// 如果传入的值小于 10 返回该值</span>
                <span class="n">field</span> <span class="p">=</span> <span class="n">value</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">field</span> <span class="p">=</span> <span class="p">-</span><span class="mi">1</span>         <span class="c1">// 如果传入的值大于等于 10 返回 -1</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="kd">var</span> <span class="py">heiht</span><span class="p">:</span> <span class="nc">Float</span> <span class="p">=</span> <span class="mf">145.4f</span>
        <span class="k">private</span> <span class="k">set</span>
<span class="p">}</span>

<span class="c1">// 测试</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">person</span><span class="p">:</span> <span class="nc">Person</span> <span class="p">=</span> <span class="nc">Person</span><span class="p">()</span>

    <span class="n">person</span><span class="p">.</span><span class="n">lastName</span> <span class="p">=</span> <span class="s">"wang"</span>

    <span class="nf">println</span><span class="p">(</span><span class="s">"lastName:${person.lastName}"</span><span class="p">)</span>

    <span class="n">person</span><span class="p">.</span><span class="n">no</span> <span class="p">=</span> <span class="mi">9</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"no:${person.no}"</span><span class="p">)</span>

    <span class="n">person</span><span class="p">.</span><span class="n">no</span> <span class="p">=</span> <span class="mi">20</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"no:${person.no}"</span><span class="p">)</span>

<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="null-检查">Null 检查</h2>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="c1">// Kotlin的空安全设计对于声明可为空的参数</span>
<span class="c1">// 在使用时要进行空判断处理，有两种处理方式，</span>
<span class="c1">// 字段后加!!像Java一样抛出空异常</span>
<span class="c1">// 另一种字段后加?可不做处理返回值为 null或配合?:做空判断处理</span>

<span class="c1">//类型后面加?表示可为空</span>
<span class="kd">var</span> <span class="py">age</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="s">"23"</span> 
<span class="c1">//抛出空指针异常</span>
<span class="kd">val</span> <span class="py">ages</span> <span class="p">=</span> <span class="n">age</span><span class="o">!!</span><span class="p">.</span><span class="nf">toInt</span><span class="p">()</span>
<span class="c1">//不做处理返回 null</span>
<span class="kd">val</span> <span class="py">ages1</span> <span class="p">=</span> <span class="n">age</span><span class="o">?.</span><span class="nf">toInt</span><span class="p">()</span>
<span class="c1">//age为空返回-1</span>
<span class="kd">val</span> <span class="py">ages2</span> <span class="p">=</span> <span class="n">age</span><span class="o">?.</span><span class="nf">toInt</span><span class="p">()</span> <span class="o">?:</span> <span class="p">-</span><span class="mi">1</span>

<span class="c1">// 当一个引用可能为 null 值时, 对应的类型声明必须明确地标记为可为 null</span>
<span class="c1">// 当 str 中的字符串内容不是一个整数时, 返回 null:</span>

<span class="k">fun</span> <span class="nf">parseInt</span><span class="p">(</span><span class="n">str</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Int</span><span class="p">?</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>


                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/kotlin/2020/06/27/Kotlin%E4%B8%8EAndroidSDK%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" data-toggle="tooltip" data-placement="top" title="「Kotlin」 Kotlin与AndroidSDK环境配置">
                        Previous<br>
                        <span>「Kotlin」 Kotlin与AndroidSDK环境配置</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/web%E5%BC%80%E5%8F%91-%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84/2020/06/29/Java/" data-toggle="tooltip" data-placement="top" title="「Web开发-互联网架构」 Java">
                        Next<br>
                        <span>「Web开发-互联网架构」 Java</span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

                

                
            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                


<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
        
        
        
        
        
                <a data-sort="0073" 
                    href="/archive/?tag=CodeNote"
                    title="CodeNote"
                    rel="92">CodeNote</a>
        
                <a data-sort="0138" 
                    href="/archive/?tag=Web%E5%BC%80%E5%8F%91"
                    title="Web开发"
                    rel="27">Web开发</a>
        
                <a data-sort="0152" 
                    href="/archive/?tag=SpringBoot"
                    title="SpringBoot"
                    rel="13">SpringBoot</a>
        
                <a data-sort="0154" 
                    href="/archive/?tag=%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B"
                    title="软件工程"
                    rel="11">软件工程</a>
        
                <a data-sort="0156" 
                    href="/archive/?tag=%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84"
                    title="互联网架构"
                    rel="9">互联网架构</a>
        
                <a data-sort="0158" 
                    href="/archive/?tag=%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"
                    title="设计模式"
                    rel="7">设计模式</a>
        
                <a data-sort="0158" 
                    href="/archive/?tag=android"
                    title="android"
                    rel="7">android</a>
        
                <a data-sort="0159" 
                    href="/archive/?tag=DAO"
                    title="DAO"
                    rel="6">DAO</a>
        
                <a data-sort="0160" 
                    href="/archive/?tag=Python"
                    title="Python"
                    rel="5">Python</a>
        
                <a data-sort="0160" 
                    href="/archive/?tag=Vue"
                    title="Vue"
                    rel="5">Vue</a>
        
                <a data-sort="0161" 
                    href="/archive/?tag=%E6%95%B0%E6%8D%AE%E5%BA%93"
                    title="数据库"
                    rel="4">数据库</a>
        
                <a data-sort="0161" 
                    href="/archive/?tag=Unity"
                    title="Unity"
                    rel="4">Unity</a>
        
                <a data-sort="0161" 
                    href="/archive/?tag=VSCode%E5%AD%A6%E4%B9%A0"
                    title="VSCode学习"
                    rel="4">VSCode学习</a>
        
                <a data-sort="0162" 
                    href="/archive/?tag=%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"
                    title="版本控制"
                    rel="3">版本控制</a>
        
                <a data-sort="0162" 
                    href="/archive/?tag=View"
                    title="View"
                    rel="3">View</a>
        
                <a data-sort="0163" 
                    href="/archive/?tag=Java"
                    title="Java"
                    rel="2">Java</a>
        
                <a data-sort="0163" 
                    href="/archive/?tag=Kotlin"
                    title="Kotlin"
                    rel="2">Kotlin</a>
        
                <a data-sort="0163" 
                    href="/archive/?tag=Linux"
                    title="Linux"
                    rel="2">Linux</a>
    </div>
</section>


                <!-- Friends Blog -->
                
<hr>
<h5>FRIENDS</h5>
<ul class="list-inline">
  
  <li><a href="http://www.criinal.com/">Criinal</a></li>
  
</ul>

            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/Dawn-K">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Dawn-K's Blog 2021
                    <br>
                    Powered by <a href="http://huangxuan.me">Hux Blog</a> |
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"
                        height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src="/js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->







<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>


<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
